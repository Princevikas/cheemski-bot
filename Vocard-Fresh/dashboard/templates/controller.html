{% block controller %}
<div class="control-container">
    <!-- Mini squiggly progress bar for mobile portrait -->
    <div class="mini-progress-container" id="mini-progress-container">
        <canvas id="mini-squiggly-canvas"></canvas>
    </div>
    <div class="left important" id="control-info">
        <img id="controller-img" src alt />
        <div class="track-info important">
            <p class="title" id="controller-title"></p>
            <p class="description non-essential" id="controller-description"></p>
        </div>
        <span class="material-symbols-outlined clickable non-essential" id="like-btn">favorite</span>
    </div>
    <div class="center important">
        <div class="actions">
            <div class="btn non-essential">
                <span class="material-symbols-outlined clickable filled" id="rewind-btn">fast_rewind</span>
                <p class="label">{{ _("Rewind 10s") }}</p>
            </div>
            <div class="btn non-essential">
                <span class="material-symbols-outlined clickable" id="shuffle-btn">shuffle</span>
                <p class="label">{{ _("Shuffle") }}</p>
            </div>
            <div class="btn important">
                <span class="material-symbols-outlined clickable filled" id="back-btn">skip_previous</span>
                <p class="label non-essential">{{ _("Back") }}</p>
            </div>
            <div class="btn important">
                <span class="material-symbols-outlined clickable play_btn filled" id="play-pause-btn">play_circle</span>
                <p class="label non-essential">{{ _("Play") }}</p>
            </div>
            <div class="btn important">
                <span class="material-symbols-outlined clickable filled" id="skip-btn">skip_next</span>
                <p class="label non-essential">{{ _("Skip") }}</p>
            </div>
            <div class="btn non-essential">
                <span class="material-symbols-outlined clickable" id="repeat-btn">repeat</span>
                <p class="label">{{ _("Repeat") }}</p>
            </div>
            <div class="btn non-essential">
                <span class="material-symbols-outlined clickable filled" id="forward-btn">fast_forward</span>
                <p class="label">{{ _("Forward 10s") }}</p>
            </div>
        </div>
        <div class="position non-essential">
            <span id="start-time">00:00</span>
            <div class="wavy-slider-container" id="wavy-slider-container">
                <canvas id="wavy-slider-canvas"></canvas>
                <input type="range" class="position-bar" id="position-bar" min="1" max="500" value="0"
                    style="display:none;" />
            </div>
            <span id="end-time">00:00</span>
        </div>
    </div>
    <div class="right important">
        <!-- Squiggly Volume Slider (Parabolic Arc) -->
        <div id="squiggly-volume-container" style="width: 120px; height: 45px; position: relative; cursor: pointer;">
            <canvas id="squiggly-volume-canvas" style="width: 100%; height: 100%;"></canvas>
            <input type="hidden" id="volume-bar" value="50">
        </div>
        <div class="btn non-essential">
            <span class="material-symbols-outlined clickable" id="volume-mute-btn">volume_up</span>
            <p class="label">{{ _("Vol") }}</p>
        </div>
        <div class="btn non-essential">
            <div id="effect-panel" class="effect-panel"></div>
            <span class="material-symbols-outlined clickable" id="toggle-effect-panel">tune</span>
            <p class="label">{{ _("Effect") }}</p>
        </div>
        <!-- Mobile-only play button (hidden on desktop) -->
        <div class="btn mobile-play-container" id="mobile-play-container">
            <span class="material-symbols-outlined clickable play_btn filled" id="mobile-play-btn">play_circle</span>
        </div>
        <div class="btn important">
            <span class="material-symbols-outlined clickable" id="toggle-queue-view">queue_music</span>
            <p class="label non-essential">{{ _("Queue") }}</p>
        </div>
    </div>
</div>
{% endblock %}